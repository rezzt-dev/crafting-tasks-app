<Window x:Class="craftingTask.view.windows.windows_dialogs.EditBoardDialog" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:craftingTask.view.windows.windows_dialogs" xmlns:local2="clr-namespace:craftingTask.resources.drawable" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" Title="EditBoardDialog" Width="500" Height="600" AllowsTransparency="True" Background="{x:Null}" WindowStartupLocation="CenterScreen" WindowStyle="None" mc:Ignorable="d">
  <Border Background="{StaticResource MainBackground}" CornerRadius="16">
    <Border.Effect>
      <DropShadowEffect BlurRadius="30" Opacity="0.4" ShadowDepth="0" Color="Black" />
    </Border.Effect>
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="22" />
        <RowDefinition Height="*" />
      </Grid.RowDefinitions>
      <!--  Title Bar  -->
      <Grid x:Name="titleBar" Grid.Row="0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="22"/>
          <ColumnDefinition Width="22"/>
        </Grid.ColumnDefinitions>
        <Button x:Name="minimizeButton" Grid.Column="1" Width="12" Height="12" Margin="4,6,6,4" 
  Click="btnMinimizeWindowClick" Style="{StaticResource MinimizeWindowButton}">
          <Viewbox>
            <Path Stroke="Black" StrokeThickness="2" VerticalAlignment="Center" Data="M2,7 L14,7" Width="16" Height="14"
    HorizontalAlignment="Center" Opacity="0.5"/>
          </Viewbox>
        </Button>
        <Button x:Name="closeButton" Grid.Column="2" Width="12" Height="12" Margin="4,6,6,4" 
  Click="btnCloseWindowClick" Style="{StaticResource CloseWindowButton}">
          <Viewbox>
            <Canvas Width="16" Height="14" Margin="2" Opacity="0.5">
              <Path Stroke="Black" StrokeThickness="2" Data="M2,2 L14,12" />
              <Path Stroke="Black" StrokeThickness="2" Data="M14,2 L2,12" />
            </Canvas>
          </Viewbox>
        </Button>
      </Grid>

      <!--  Content  -->
      <Grid Grid.Row="1" Margin="20">
        <Grid.RowDefinitions>
          <RowDefinition Height="*" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <StackPanel Grid.Row="0">
          <!--  Board Name Section  -->
          <Border Padding="20" Background="{StaticResource SecondaryBackground}" CornerRadius="12" Margin="0,10,0,10">
            <StackPanel>
              <TextBlock Margin="0,0,0,10" FontSize="12" FontWeight="Bold" Foreground="{StaticResource SecondaryForeground}" Text="NOMBRE DEL TABLERO" />
              <TextBox x:Name="txtBoardName" Height="40" Padding="10,0" FontSize="16" Style="{StaticResource RoundedTextBoxStyle}" 
                       HorizontalContentAlignment="Left" VerticalContentAlignment="Center"/>
            </StackPanel>
          </Border>
          <!--  Color Selection Section  -->
          <Border Padding="20" Background="{StaticResource SecondaryBackground}" CornerRadius="12" Margin="0,10,0,10">
            <StackPanel>
              <TextBlock Margin="0,0,0,15" FontSize="12" FontWeight="Bold" Foreground="{StaticResource SecondaryForeground}" Text="COLOR DEL TABLERO" />
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="50" />
                  <ColumnDefinition Width="*" />
                  <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <!--  Color Preview  -->
                <Border Grid.Column="0" Width="40" Height="40" BorderBrush="{StaticResource MainBorderColor}" BorderThickness="1" CornerRadius="10">
                  <Border.Background>
                    <SolidColorBrush Color="{Binding SelectedColorBrush.Color, FallbackValue=#FF0000}" />
                  </Border.Background>
                </Border>
                <!--  Hex Code Display  -->
                <TextBox x:Name="txtColorSelector" Grid.Column="1" Height="40" Margin="15,0" VerticalContentAlignment="Center" FontSize="14" FontWeight="SemiBold" IsReadOnly="True" Style="{StaticResource ColorSelectorTextBoxStyle}" Text="{Binding SelectedColorHex, FallbackValue=#FF0000}" />
                <!--  Color Picker Button  -->
                <Button Grid.Column="2" Width="40" Height="40" Click="BtnOpenColor_Click" Style="{StaticResource FunctionButtonStyle}" ToolTip="Seleccionar color">
                  <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="13" Text="ðŸŽ¨" />
                </Button>
                <!--  Color Picker Popup  -->
                <Popup x:Name="ColorPopup" AllowsTransparency="True" Placement="Bottom" PlacementTarget="{Binding ElementName=txtColorSelector}" PopupAnimation="Slide" StaysOpen="False">
                  <Border Padding="10" Background="{StaticResource MainBackground}" BorderBrush="{StaticResource MainBorderColor}" BorderThickness="1" CornerRadius="12">
                    <Border.Effect>
                      <DropShadowEffect BlurRadius="10" Opacity="0.2" ShadowDepth="2" />
                    </Border.Effect>
                    <local2:ModernColorPicker x:Name="ModernPicker" />
                  </Border>
                </Popup>
              </Grid>
            </StackPanel>
          </Border>
          <!--  Creation Date Section  -->
          <Border Padding="20" Background="{StaticResource SecondaryBackground}" CornerRadius="12" Margin="0,10,0,10">
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
              </Grid.ColumnDefinitions>
              <Border Grid.Column="0" Width="40" Height="40" Margin="0,0,15,0" Background="#1E88E5" CornerRadius="20">
                <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18" Text="ðŸ“…" Opacity="0.7" />
              </Border>
              <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <TextBlock FontSize="12" FontWeight="Bold" Foreground="{StaticResource SecondaryForeground}" Text="FECHA DE CREACIÃ“N" />
                <TextBlock x:Name="txtCreationDate" Margin="0,2,0,0" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource MainForeground}" />
              </StackPanel>
            </Grid>
          </Border>
        </StackPanel>
        <!--  Action Buttons  -->
        <Grid Grid.Row="1" Margin="0,20,0,0">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="15" />
            <ColumnDefinition Width="*" />
          </Grid.ColumnDefinitions>
          <Button x:Name="btnCancelEdit" Grid.Column="0" Height="45" Click="btnCancelEditClick" Content="Cancelar" Opacity="0.8" Style="{StaticResource FunctionButtonStyle}" />
          <Button x:Name="btnSaveChanges" Grid.Column="1" Grid.ColumnSpan="2" Height="45" Click="btnSaveChangesClick" Content="Guardar Cambios" FontWeight="Bold" Style="{StaticResource FunctionButtonStyle}" />
        </Grid>
      </Grid>
    </Grid>
  </Border>
</Window>
